* BME280 Sensor soft reset register */
#define BME280_SOFT_RESET_VAL 0xB6
#define BME280_RESET_ADDR 0xE0



//Function to perform a soft reset of the BME280 sensor
int8_t bme280_soft_reset(const struct bme280_dev *dev)
{
    uint8_t reg_data = BME280_SOFT_RESET_VAL;
    int8_t rslt;

    // Write the soft reset value to the reset register
    rslt = bme280_set_regs(BME280_RESET_ADDR, &reg_data, 1, dev);
    if (rslt != BME280_OK)
    {
        printf("Error: Soft reset failed with code %d\n", rslt);
        return rslt;
    }

    // Wait for the reset to complete
    do
    {
        rslt = bme280_get_status(&dev->dev_status);
        if (rslt != BME280_OK)
        {
            printf("Error: Failed to get device status with code %d\n", rslt);
            return rslt;
        }
    } while (dev->dev_status.im_update);

    printf("Soft reset completed successfully!\n");
    return BME280_OK;
}
